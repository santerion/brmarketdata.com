(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{4573:(e,a,t)=>{"use strict";t.d(a,{F:()=>m});let i={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 m\xeas",other:"cerca de {{count}} meses"},xMonths:{one:"1 m\xeas",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}};var o=t(52143);let r={date:(0,o.k)({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:(0,o.k)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,o.k)({formats:{full:"{{date}} '\xe0s' {{time}}",long:"{{date}} '\xe0s' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},n={lastWeek:e=>{let a=e.getDay();return"'"+(0===a||6===a?"\xfaltimo":"\xfaltima")+"' eeee '\xe0s' p"},yesterday:"'ontem \xe0s' p",today:"'hoje \xe0s' p",tomorrow:"'amanh\xe3 \xe0s' p",nextWeek:"eeee '\xe0s' p",other:"P"};var s=t(38265);let l={ordinalNumber:(e,a)=>{let t=Number(e);return(null==a?void 0:a.unit)==="week"?t+"\xaa":t+"\xba"},era:(0,s.o)({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:(0,s.o)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,s.o)({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:(0,s.o)({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","ter\xe7a","quarta","quinta","sexta","s\xe1bado"],wide:["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:(0,s.o)({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})};var d=t(87291);let m={code:"pt-BR",formatDistance:(e,a,t)=>{let o;let r=i[e];return(o="string"==typeof r?r:1===a?r.one:r.other.replace("{{count}}",String(a)),null==t?void 0:t.addSuffix)?t.comparison&&t.comparison>0?"em "+o:"h\xe1 "+o:o},formatLong:r,formatRelative:(e,a,t,i)=>{let o=n[e];return"function"==typeof o?o(a):o},localize:l,match:{ordinalNumber:(0,t(66943).K)({matchPattern:/^(\d+)[ºªo]?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,d.A)({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:(0,d.A)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,d.A)({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:(0,d.A)({matchPatterns:{narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},defaultParseWidth:"any"}),dayPeriod:(0,d.A)({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},32944:(e,a,t)=>{"use strict";t.d(a,{p:()=>o});var i=t(89447);function o(e,a){let t=(0,i.a)(e,null==a?void 0:a.in),o=t.getMonth();return t.setFullYear(t.getFullYear(),o+1,0),t.setHours(23,59,59,999),t}},53231:(e,a,t)=>{"use strict";t.d(a,{w:()=>o});var i=t(89447);function o(e,a){let t=(0,i.a)(e,null==a?void 0:a.in);return t.setDate(1),t.setHours(0,0,0,0),t}},72797:(e,a,t)=>{"use strict";t.d(a,{b:()=>l});var i=t(12115);t(47650);var o=t(66634),r=t(95155),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let t=(0,o.TL)(`Primitive.${a}`),n=i.forwardRef((e,i)=>{let{asChild:o,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(o?t:a,{...n,ref:i})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{}),s=i.forwardRef((e,a)=>(0,r.jsx)(n.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));s.displayName="Label";var l=s},79665:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>M});var i=t(95155),o=t(12115),r=t(41287),n=t(94754),s=t(96025),l=t(16238),d=t(62341),m=t(81499),u=t(59409),c=t(62523),h=t(85057),b=t(83637),g=t(53231),f=t(32944),p=t(4573),x=t(33472),v=t(6821),j=t(44288);let y=[{value:"BBAS3",label:"Banco do Brasil (BBAS3)"},{value:"PETR4",label:"Petrobr\xe1s (PETR4)"},{value:"BBSE3",label:"BB Seguridade (BBSE3)"},{value:"ITSA4",label:"Itausa (ITSA4)"},{value:"VALE3",label:"Vale (VALE3)"},{value:"TAEE11",label:"Taesa (TAEE11)"},{value:"CMIG4",label:"Cemig (CMIG4)"},{value:"ISAE4",label:"Isa Energia Brasil (ISAE4)"},{value:"CXSE3",label:"Caixa Seguridade (CXSE3)"},{value:"CSMG3",label:"Copasa (CSMG3)"},{value:"GOAU4",label:"Gerdau Metal\xfargica (GOAU4)"},{value:"WEGE3",label:"WEG (WEGE3)"},{value:"AURE3",label:"Auren Energia (AURE3)"},{value:"KLBN11",label:"Klabin (KLBN11)"},{value:"ITUB4",label:"Banco Itau Unibanco (ITUB4)"},{value:"EGIE3",label:"Engie Brasil (EGIE3)"}],w={portfolioValue:{label:"Valor do Portf\xf3lio",color:"hsl(var(--green))"},contributions:{label:"Contribui\xe7\xf5es",color:"hsl(var(--blue))"}};function M(){let[e,a]=(0,o.useState)(y[0].value),[t,M]=(0,o.useState)("1000"),[N,D]=(0,o.useState)("1000"),[P,S]=(0,o.useState)("2017-01"),[E,C]=(0,o.useState)((0,b.GP)(new Date,"yyyy-MM")),[A,F]=(0,o.useState)([]),[k,W]=(0,o.useState)(!1),[B,I]=(0,o.useState)(null),[R,T]=(0,o.useState)(0),[G,q]=(0,o.useState)(0);return(0,o.useEffect)(()=>{(async()=>{W(!0),I(null);try{let[a,i]=P.split("-"),[o,r]=E.split("-"),n=(0,g.w)(new Date(parseInt(a),parseInt(i)-1,1,12,0,0)),s=(0,f.p)(new Date(parseInt(o),parseInt(r)-1,1,12,0,0)),l=await fetch("https://api.brmarketdata.com/prices/history?ticker=".concat(e,"&start=").concat((0,b.GP)(n,"yyyy-MM-dd"),"&end=").concat((0,b.GP)(s,"yyyy-MM-dd")),{mode:"cors",headers:{Accept:"application/json"}});if(!l.ok)throw Error("HTTP error! status: ".concat(l.status));let d=await l.json(),m=(0,g.w)(new Date(parseInt(a),parseInt(i)-1,1,0,0,0)),u=(0,f.p)(new Date(parseInt(o),parseInt(r)-1,1,23,59,59)),c=d.sort((e,a)=>new Date(e.date).getTime()-new Date(a.date).getTime()).filter(e=>{let a=new Date(e.date);return a>=m&&a<=u}).filter((e,a,t)=>{if(0===a)return!0;let i=new Date(e.date),o=new Date(t[a-1].date);return i.getMonth()!==o.getMonth()}),h=[],p=0,x=0,v=0,j=0;c.forEach((e,a)=>{let i=new Date(e.date),o=e.price,r=j;0===a?(r+=Number(t),x+=Number(t)):(r+=Number(N),x+=Number(N));let n=Math.floor(r/o),s=n*o;j=r-s,p+=n,v+=s,h.push({date:i,portfolioValue:p*o,contributions:x,shares:p,price:o})}),F(h),T(p),q(v/p)}catch(e){console.error("Error fetching data:",e),I(e instanceof Error?e.message:"Failed to fetch data")}finally{W(!1)}})()},[e,t,N,P,E]),(0,i.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,i.jsx)(x.Navbar,{}),(0,i.jsx)("main",{className:"flex-1",children:(0,i.jsx)("section",{className:"py-20 px-6",children:(0,i.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold text-center mb-8",children:"Simulador de Aportes"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(h.J,{htmlFor:"initialContribution",children:"Aporte Inicial (R$)"}),(0,i.jsx)(c.p,{id:"initialContribution",type:"number",value:t,onChange:e=>M(e.target.value)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h.J,{htmlFor:"monthlyContribution",children:"Aporte Mensal (R$)"}),(0,i.jsx)(c.p,{id:"monthlyContribution",type:"number",value:N,onChange:e=>D(e.target.value)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h.J,{htmlFor:"stock",children:"A\xe7\xe3o"}),(0,i.jsxs)(u.l6,{value:e,onValueChange:a,children:[(0,i.jsx)(u.bq,{children:(0,i.jsx)(u.yv,{placeholder:"Select a stock"})}),(0,i.jsx)(u.gC,{children:y.map(e=>(0,i.jsx)(u.eb,{value:e.value,children:e.label},e.value))})]})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(h.J,{htmlFor:"startDate",children:"Data Inicial"}),(0,i.jsx)(j.l,{value:P,onChange:S})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h.J,{htmlFor:"endDate",children:"Data Final"}),(0,i.jsx)(j.l,{value:E,onChange:C})]})]})]}),B&&(0,i.jsx)("div",{className:"mb-8 p-4 bg-destructive/10 text-destructive rounded-lg text-center",children:B}),(0,i.jsx)("div",{className:"h-[400px] w-full",children:k?(0,i.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,i.jsx)(m.at,{config:w,className:"h-full w-full px-2 mx-auto",children:(0,i.jsxs)(r.Q,{data:A,margin:{left:30,right:10,top:10,bottom:5},children:[(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"colorPortfolio",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,i.jsx)("stop",{offset:"5%",stopColor:"hsl(var(--green))",stopOpacity:.8}),(0,i.jsx)("stop",{offset:"100%",stopColor:"hsl(var(--green))",stopOpacity:0})]}),(0,i.jsxs)("linearGradient",{id:"colorContributions",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,i.jsx)("stop",{offset:"5%",stopColor:"hsl(var(--blue))",stopOpacity:.8}),(0,i.jsx)("stop",{offset:"100%",stopColor:"hsl(var(--blue))",stopOpacity:0})]})]}),(0,i.jsx)(n.d,{strokeDasharray:"5 3",horizontal:!0,vertical:!0,stroke:"rgba(120, 120, 120, 0.4)"}),(0,i.jsx)(s.W,{dataKey:"date",tickFormatter:e=>(0,b.GP)(e,"MMM/yy",{locale:p.F})}),(0,i.jsx)(l.h,{tickFormatter:e=>"R$".concat(e.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0}))}),(0,i.jsx)(m.II,{content:(0,i.jsx)(m.Nt,{labelFormatter:(e,a)=>{var t,i;return(null==a?void 0:null===(i=a[0])||void 0===i?void 0:null===(t=i.payload)||void 0===t?void 0:t.date)?(0,b.GP)(a[0].payload.date,"MMM/yy",{locale:p.F}):""},formatter:(e,a)=>["R$".concat(Number(e).toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})),"portfolioValue"===a?" Valor do Portf\xf3lio":" Desembolso"]})}),(0,i.jsx)(d.G,{type:"monotone",dataKey:"portfolioValue",stroke:"hsl(var(--green))",fillOpacity:1,fill:"url(#colorPortfolio)"}),(0,i.jsx)(d.G,{type:"monotone",dataKey:"contributions",stroke:"hsl(var(--blue))",fillOpacity:1,fill:"url(#colorContributions)"})]})})}),A.length>0&&(0,i.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"bg-card p-4 rounded-lg",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Total Investido"}),(0,i.jsxs)("p",{className:"text-2xl font-bold",children:["R$",Number(A[A.length-1].contributions).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,i.jsxs)("div",{className:"bg-card p-4 rounded-lg",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Valor Atual"}),(0,i.jsxs)("p",{className:"text-2xl font-bold",children:["R$",Number(A[A.length-1].portfolioValue).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,i.jsxs)("div",{className:"bg-card p-4 rounded-lg",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"A\xe7\xf5es Acumuladas"}),(0,i.jsx)("p",{className:"text-2xl font-bold",children:R.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})})]}),(0,i.jsxs)("div",{className:"bg-card p-4 rounded-lg",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Pre\xe7o M\xe9dio"}),(0,i.jsxs)("p",{className:"text-2xl font-bold",children:["R$",G.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,i.jsxs)("div",{className:"bg-card p-4 rounded-lg",children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:["Pre\xe7o ",(0,b.GP)(A[A.length-1].date,"MM/yy")]}),(0,i.jsxs)("p",{className:"text-2xl font-bold",children:["R$",A[A.length-1].price.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,i.jsxs)("div",{className:"bg-card p-4 rounded-lg",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Rentabilidade"}),(0,i.jsxs)("p",{className:"text-2xl font-bold",children:[((A[A.length-1].portfolioValue/A[A.length-1].contributions-1)*100).toFixed(2),"%"]})]})]})]})})}),(0,i.jsx)(v.w,{})]})}},86558:(e,a,t)=>{Promise.resolve().then(t.bind(t,79665))}},e=>{var a=a=>e(e.s=a);e.O(0,[390,148,196,760,441,684,358],()=>a(86558)),_N_E=e.O()}]);